{"ast":null,"code":"var _jsxFileName = \"D:\\\\ahtung\\\\\\u0440\\u0435\\u0430\\u043A\\u0442\\\\zp2\\\\zp2\\\\src\\\\App.js\";\nimport React from 'react';\n/* global XLS */\n\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      gaz: '',\n      koef: 1,\n      sum: 0,\n      klienty_plus: 0,\n      klienty_minus: 0,\n      zapravka: 0\n    };\n\n    this.handleChangeGaz = e => {\n      this.setState({\n        gaz: e.currentTarget.value\n      });\n    };\n\n    this.handleChangeKoef = e => {\n      this.setState({\n        koef: e.currentTarget.value\n      });\n    };\n\n    this.handleChangeKlientyPlus = e => {\n      this.setState({\n        klienty_plus: e.currentTarget.value\n      });\n    };\n\n    this.handleChangeKlientyMinus = e => {\n      this.setState({\n        klienty_minus: e.currentTarget.value\n      });\n    };\n\n    this.handleChangeZapravka = e => {\n      this.setState({\n        zapravka: e.currentTarget.value\n      });\n    };\n\n    this.filePicked = oEvent => {\n      var self = this; // Get The File From The Input\n\n      var oFile = oEvent.target.files[0]; // Create A File Reader HTML5\n\n      var reader = new FileReader(); // Ready The Event For When A File Gets Selected\n\n      reader.onload = function (e) {\n        var data = e.target.result;\n        var cfb = XLS.CFB.read(data, {\n          type: 'binary'\n        });\n        var wb = XLS.parse_xlscfb(cfb); // Loop Over Each Sheet\n\n        wb.SheetNames.forEach(function (sheetName) {\n          var oJS = XLS.utils.sheet_to_row_object_array(wb.Sheets[sheetName]); // console.log(oJS[1].total) //вывести сумму из 2го объекта\n\n          var sum_all_arr = oJS.map(function (sum) {\n            return sum.total;\n          }); // console.log(sum_all_arr);//массив из сумм\n\n          var SUM = function (array) {\n            var sum = 0;\n\n            for (var i = 0; i < array.length; i++) {\n              sum += parseInt(array[i], 10); //сложить все суммы, перевод из сток в числа\n            } // console.log(sum);// выводит итоговую сумму за всех клиентов \n\n\n            self.setState({\n              sum\n            }); //обновляем состояние суммы    \n          };\n\n          SUM(sum_all_arr);\n        });\n      }; // Tell JS To Start Reading The File.. You could delay this if desired\n\n\n      reader.readAsBinaryString(oFile);\n    };\n  }\n\n  render() {\n    const Stavka = 15480;\n    const _this$state = this.state,\n          gaz = _this$state.gaz,\n          koef = _this$state.koef,\n          sum = _this$state.sum,\n          klienty_minus = _this$state.klienty_minus,\n          klienty_plus = _this$state.klienty_plus,\n          zapravka = _this$state.zapravka;\n    return React.createElement(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"upload\",\n      type: \"file\",\n      name: \"files[]\",\n      className: \"form-control\" //'input_file'\n      ,\n      placeholder: \"\\u0432\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0444\\u0430\\u0439\\u043B xls\",\n      onChange: this.filePicked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChangeKoef,\n      placeholder: \"\\u043A\\u043E\\u044D\\u0444\\u0444\\u0438\\u0446\\u0438\\u0435\\u043D\\u0442\",\n      value: koef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChangeKlientyPlus,\n      placeholder: \"+ \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u044B \\u0438\\u043D\\u0436\\u0435\\u043D\\u0435\\u0440\\u0430\",\n      value: klienty_plus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.handleChangeKlientyMinus,\n      placeholder: \"- \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u044B \\u0438\\u043D\\u0436\\u0435\\u043D\\u0435\\u0440\\u0430\",\n      value: klienty_minus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\" // className = 'input_koef'\n      ,\n      onChange: this.handleChangeZapravka,\n      placeholder: \"- \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u044B \\u0438\\u043D\\u0436\\u0435\\u043D\\u0435\\u0440\\u0430\",\n      value: zapravka,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"\\u0418\\u0442\\u043E\\u0433\\u043E:\", sum * koef + zapravka + klienty_plus - klienty_minus - Stavka)))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/ahtung/реакт/zp2/zp2/src/App.js"],"names":["React","App","Component","state","gaz","koef","sum","klienty_plus","klienty_minus","zapravka","handleChangeGaz","e","setState","currentTarget","value","handleChangeKoef","handleChangeKlientyPlus","handleChangeKlientyMinus","handleChangeZapravka","filePicked","oEvent","self","oFile","target","files","reader","FileReader","onload","data","result","cfb","XLS","CFB","read","type","wb","parse_xlscfb","SheetNames","forEach","sheetName","oJS","utils","sheet_to_row_object_array","Sheets","sum_all_arr","map","total","SUM","array","i","length","parseInt","readAsBinaryString","render","Stavka"],"mappings":"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","sourcesContent":["import React from 'react';\n/* global XLS */\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nclass App extends React.Component{\n    state = {\n      gaz: '',\n      koef: 1,\n      sum: 0,\n      klienty_plus: 0,\n      klienty_minus: 0,\n      zapravka: 0,\n    }\n    handleChangeGaz = (e)=>{\n      this.setState({gaz: e.currentTarget.value})\n    }\n    handleChangeKoef = (e)=>{\n      this.setState({koef: e.currentTarget.value})\n    }\n    handleChangeKlientyPlus = (e)=>{\n      this.setState({klienty_plus: e.currentTarget.value})\n    }\n    handleChangeKlientyMinus = (e)=>{\n      this.setState({klienty_minus: e.currentTarget.value})\n    }\n    handleChangeZapravka = (e)=>{\n      this.setState({zapravka: e.currentTarget.value})\n    }\n    filePicked =(oEvent)=> {\n      var self = this;\n        // Get The File From The Input\n    var oFile = oEvent.target.files[0];\n    \n    // Create A File Reader HTML5\n    var reader = new FileReader();\n\n    // Ready The Event For When A File Gets Selected\n    reader.onload = function(e) {\n        var data = e.target.result;\n        var cfb = XLS.CFB.read(data, {type: 'binary'});\n        var wb = XLS.parse_xlscfb(cfb);\n        // Loop Over Each Sheet\n        wb.SheetNames.forEach(function(sheetName) {             \n            var oJS = XLS.utils.sheet_to_row_object_array(wb.Sheets[sheetName]);   \n            // console.log(oJS[1].total) //вывести сумму из 2го объекта\n            var sum_all_arr = oJS.map(function(sum){\n              return sum.total\n            });           \n              // console.log(sum_all_arr);//массив из сумм\n             var SUM = function(array){\n                var sum = 0;\n                for(var i = 0; i < array.length; i++){\n                  sum += parseInt (array[i], 10);//сложить все суммы, перевод из сток в числа\n                }                \n                // console.log(sum);// выводит итоговую сумму за всех клиентов \n                self.setState({sum})  //обновляем состояние суммы    \n              }\n              SUM(sum_all_arr);\n        });\n    };\n    // Tell JS To Start Reading The File.. You could delay this if desired\n    reader.readAsBinaryString(oFile);\n    }\n\n    render(){\n      const Stavka = 15480;\n      const {gaz, koef, sum, klienty_minus, klienty_plus, zapravka} = this.state\n\n      return(\n        <div className = 'section'>\n        <div className = 'container'>\n        <div className = 'row'>\n        <div className = 'col-lg-12'>\n        <form className = ''>\n          <div className = 'form-group'>\n            <input \n              id=\"upload\" \n              type = \"file\"  \n              name=\"files[]\" \n              className = 'form-control' //'input_file'\n              placeholder = 'выберите файл xls'\n              onChange = {this.filePicked}\n            />\n            {/* <input \n              type = 'text'\n              // className = 'input_gazolin'\n              onChange = {this.handleChangeGaz}\n              placeholder = 'бензин сумма'\n              value = {gaz}\n            /> */}\n            <input \n              type = 'text'\n              className = 'form-control'\n              onChange = {this.handleChangeKoef}\n              placeholder = 'коэффициент'\n              value = {koef}\n            />\n            <input \n              type = 'text'\n              className = 'form-control'\n              onChange = {this.handleChangeKlientyPlus}\n              placeholder = '+ клиенты инженера'\n              value = {klienty_plus}\n            />\n            <input \n              type = 'text'\n              className = 'form-control'\n              onChange = {this.handleChangeKlientyMinus}\n              placeholder = '- клиенты инженера'\n              value = {klienty_minus}\n            />\n            <input \n              type = 'text'\n              // className = 'input_koef'\n              onChange = {this.handleChangeZapravka}\n              placeholder = '- клиенты инженера'\n              value = {zapravka}\n            />\n          <p>Итого:{((sum * koef) + zapravka + klienty_plus - klienty_minus) - Stavka }</p>\n        </div>\n        </form>\n        </div>\n        </div>\n        </div>\n        </div>\n      )\n    }\n  }\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}