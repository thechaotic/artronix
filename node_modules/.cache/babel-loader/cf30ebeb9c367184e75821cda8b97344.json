{"ast":null,"code":"var _jsxFileName = \"D:\\\\ahtung\\\\\\u0440\\u0435\\u0430\\u043A\\u0442\\\\zp2\\\\zp2\\\\src\\\\App.js\";\nimport React from 'react';\n/* global XLS */\n\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      coefficient: 1,\n      sum: 0,\n      profitFromCustomerEngineer: 0,\n      deductionFromCustomerEngineer: 0,\n      refillingCartridges: 0,\n      machineMaintenance: 0\n    };\n\n    this.filePicked = oEvent => {\n      var self = this; // Get The File From The Input\n\n      let oFile = oEvent.target.files[0]; // Create A File Reader HTML5\n\n      var reader = new FileReader(); // Ready The Event For When A File Gets Selected\n\n      reader.onload = function (e) {\n        var data = e.target.result;\n        var cfb = XLS.CFB.read(data, {\n          type: 'binary'\n        });\n        var wb = XLS.parse_xlscfb(cfb); // Loop Over Each Sheet\n\n        wb.SheetNames.forEach(function (sheetName) {\n          var oJS = XLS.utils.sheet_to_row_object_array(wb.Sheets[sheetName]); // console.log(oJS[1].total) //вывести сумму из 2го объекта\n\n          var sum_all_arr = oJS.map(function (sum) {\n            return sum.total;\n          }); // console.log(sum_all_arr);//массив из сумм\n\n          var SUM = function (array) {\n            var sum = 0;\n\n            for (var i = 0; i < array.length; i++) {\n              sum += parseInt(array[i], 10); //сложить все суммы, перевод из сток в числа\n            }\n\n            console.log(sum); // выводит итоговую сумму за всех клиентов \n\n            self.setState({\n              sum\n            }); //обновляем состояние суммы    \n          };\n\n          SUM(sum_all_arr);\n        });\n      }; // Tell JS To Start Reading The File.. You could delay this if desired\n\n\n      reader.readAsBinaryString(oFile);\n    };\n\n    this.handleChangeCoefficient = this.handleChangeCoefficient.bind(this);\n    this.handleChangeProfitFromCustomerEngineer = this.handleChangeProfitFromCustomerEngineer.bind(this);\n    this.handleChangeDeductionFromCustomerEnginee = this.handleChangeDeductionFromCustomerEnginee.bind(this);\n    this.handleChangeRefillingCartridges = this.handleChangeRefillingCartridges.bind(this);\n    this.handleChangeMachineMaintenance = this.handleChangeMachineMaintenance.bind(this);\n  }\n\n  handleChangeCoefficient(e) {\n    this.setState({\n      coefficient: e.currentTarget.value\n    });\n  }\n\n  handleChangeProfitFromCustomerEngineer(e) {\n    this.setState({\n      profitFromCustomerEngineer: e.currentTarget.value\n    });\n  }\n\n  handleChangeDeductionFromCustomerEnginee(e) {\n    this.setState({\n      deductionFromCustomerEngineer: e.currentTarget.value\n    });\n  }\n\n  handleChangeRefillingCartridges(e) {\n    this.setState({\n      refillingCartridges: e.currentTarget.value\n    });\n  }\n\n  handleChangeMachineMaintenance(e) {\n    this.setState({\n      machineMaintenance: e.currentTarget.value\n    });\n  }\n\n  render() {\n    const rateWorker = 15480; // const {coefficient, sum, deductionFromCustomerEngineer, profitFromCustomerEngineer, refillingCartridges, machineMaintenance} = this.state\n\n    const first = sum * coefficient;\n    const second = profitFromCustomerEngineer - deductionFromCustomerEngineer;\n    const third = first + second;\n    const fourth = machineMaintenance * 0.5;\n    const fife = third + parseInt(refillingCartridges, 10);\n    return React.createElement(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(FormInputs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/ahtung/реакт/zp2/zp2/src/App.js"],"names":["React","App","Component","constructor","props","state","coefficient","sum","profitFromCustomerEngineer","deductionFromCustomerEngineer","refillingCartridges","machineMaintenance","filePicked","oEvent","self","oFile","target","files","reader","FileReader","onload","e","data","result","cfb","XLS","CFB","read","type","wb","parse_xlscfb","SheetNames","forEach","sheetName","oJS","utils","sheet_to_row_object_array","Sheets","sum_all_arr","map","total","SUM","array","i","length","parseInt","console","log","setState","readAsBinaryString","handleChangeCoefficient","bind","handleChangeProfitFromCustomerEngineer","handleChangeDeductionFromCustomerEnginee","handleChangeRefillingCartridges","handleChangeMachineMaintenance","currentTarget","value","render","rateWorker","first","second","third","fourth","fife"],"mappings":"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","sourcesContent":["import React from 'react';\n/* global XLS */\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nclass App extends React.Component{\n  constructor(props) {\n    super(props);\n    this.handleChangeCoefficient = this.handleChangeCoefficient.bind(this);\n    this.handleChangeProfitFromCustomerEngineer = this.handleChangeProfitFromCustomerEngineer.bind(this);\n    this.handleChangeDeductionFromCustomerEnginee = this.handleChangeDeductionFromCustomerEnginee.bind(this);\n    this.handleChangeRefillingCartridges = this.handleChangeRefillingCartridges.bind(this);\n    this.handleChangeMachineMaintenance = this.handleChangeMachineMaintenance.bind(this);\n  }\n    state = {\n      coefficient: 1,\n      sum: 0,\n      profitFromCustomerEngineer: 0,\n      deductionFromCustomerEngineer: 0,\n      refillingCartridges: 0,\n      machineMaintenance: 0,\n    }\n      handleChangeCoefficient(e){\n        this.setState({coefficient: e.currentTarget.value})\n      }\n      handleChangeProfitFromCustomerEngineer(e){\n        this.setState({profitFromCustomerEngineer: e.currentTarget.value})\n      }\n      handleChangeDeductionFromCustomerEnginee(e){\n        this.setState({deductionFromCustomerEngineer: e.currentTarget.value})\n      }\n      handleChangeRefillingCartridges(e){\n        this.setState({refillingCartridges: e.currentTarget.value})\n      }\n      handleChangeMachineMaintenance(e){\n        this.setState({machineMaintenance: e.currentTarget.value})\n      }\n      \n    filePicked =(oEvent)=> {\n      var self = this;\n        // Get The File From The Input\n    let oFile = oEvent.target.files[0];\n    \n    // Create A File Reader HTML5\n    var reader = new FileReader();\n\n    // Ready The Event For When A File Gets Selected\n    reader.onload = function(e) {\n        var data = e.target.result;\n        var cfb = XLS.CFB.read(data, {type: 'binary'});\n        var wb = XLS.parse_xlscfb(cfb);\n        // Loop Over Each Sheet\n        wb.SheetNames.forEach(function(sheetName) {             \n            var oJS = XLS.utils.sheet_to_row_object_array(wb.Sheets[sheetName]);   \n            // console.log(oJS[1].total) //вывести сумму из 2го объекта\n            var sum_all_arr = oJS.map(function(sum){\n              return sum.total\n            });           \n              // console.log(sum_all_arr);//массив из сумм\n             var SUM = function(array){\n                var sum = 0;\n                for(var i = 0; i < array.length; i++){\n                  sum += parseInt (array[i], 10);//сложить все суммы, перевод из сток в числа\n                }                \n                console.log(sum);// выводит итоговую сумму за всех клиентов \n                self.setState({sum})  //обновляем состояние суммы    \n              }\n              SUM(sum_all_arr);\n        });\n    };\n    // Tell JS To Start Reading The File.. You could delay this if desired\n    reader.readAsBinaryString(oFile);\n    }\n    \n      render(){\n        const rateWorker = 15480\n        // const {coefficient, sum, deductionFromCustomerEngineer, profitFromCustomerEngineer, refillingCartridges, machineMaintenance} = this.state\n        const first = sum * coefficient\n        const second = profitFromCustomerEngineer - deductionFromCustomerEngineer\n        const third = first + second\n        const fourth = machineMaintenance * 0.5\n        const fife = third + parseInt(refillingCartridges, 10)\n        return(\n          <div className = \"section\">\n            <div className = \"container\">\n              <div className = \"row\">\n                <FormInputs />\n                {/* <div className = \"col-lg-6 col-lg-offset-3\">\n                  <form>\n                    <div className = \"form-group\">\n                      <label for = \"upload_file\">Выберите файл</label>\n                        <input \n                          id=\"upload_file\" \n                          type = \"file\"  \n                          name=\"files[]\" \n                          className = \"form-control-file\" \n                          placeholder = \"выберите файл xls\"\n                          onChange = {this.filePicked}\n                        />\n                      <label for = \"enter_coefficient\">Введите коэффициент</label>\n                        <input \n                          type = \"text\"\n                          id = \"enter_coefficient\"\n                          className = \"form-control\"\n                          onChange = {this.handleChangeCoefficient}\n                          placeholder = \"коэффициент\"\n                          value = {coefficient}\n                        />\n                      <label for = \"enter_profitFromCustomerEngineer\">\n                        + Клиенты инженера\n                      </label>\n                        <input \n                          type = \"text\"\n                          id = \"enter_profitFromCustomerEngineer\"\n                          className = \"form-control\"\n                          onChange = {this.handleChangeProfitFromCustomerEngineer}\n                          placeholder = \"плюс клиенты инженера\"\n                          value = {profitFromCustomerEngineer}\n                        />\n                      <label for = \"enter_deductionFromCustomerEngineer\">\n                        - Клиенты инженера\n                      </label>\n                        <input \n                          type = \"text\"\n                          id = \"enter_deductionFromCustomerEngineer\"\n                          className = \"form-control\"\n                          onChange = {this.handleChangeDeductionFromCustomerEnginee}\n                          placeholder = \"минус клиенты инженера\"\n                          value = {deductionFromCustomerEngineer}\n                        />\n                      <label for = \"enter_refillingCartridges\">\n                        Заправка картриджей\n                      </label>\n                        <input \n                          type = \"text\"\n                          id = \"enter_refillingCartridges\"\n                          className = \"form-control\"\n                          onChange = {this.handleChangeRefillingCartridges}\n                          placeholder = \"заправка\"\n                          value = {refillingCartridges}\n                        />\n                      <label for = \"enter_machineMaintenance\">\n                        Расходы на машину\n                      </label>\n                        <input \n                          type = \"text\"\n                          id = \"enter_machineMaintenance\"\n                          className = \"form-control\"\n                          onChange = {this.handleChangeMachineMaintenance}\n                          placeholder = \"расходы на машину\"\n                          value = {machineMaintenance}\n                        />\n                    <p>Итого:{fife - fourth - rateWorker}</p>\n          </div>\n            </form>\n              </div> */}\n                </div>\n                  </div>\n                    </div>\n        )\n      }\n    }\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}